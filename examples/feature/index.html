<!DOCTYPE html>
<html xmlns:g="http://gaiajs.org/g">
<head>
    <title>g:feature example</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script src="../../js/gaia.js"></script>
    <script src="js/g:feature.js"></script>
    <script src="js/SessionMixin.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="js/jquery.cookie.js"></script>

    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
    <script src="bootstrap/js/bootstrap.js"></script>
</head>

<body gaia g:feature="$SessionMixin(new $Authentication())" class="container">
    <div>Status: {{ session.statusText }}</div>
    <form class="form-inline" g:show="!session.user">
        <input type="text" class="input-small" g:model="userid" placeholder="Email">
        <input type="password" class="input-small" g:model="passwd" placeholder="Password">
        <button g:onclick="login(userid, passwd);" class="btn" type="button">Auth! {{foo}}</button>
    </form>
    <div g:show="!!session.user">
        <span>user logged in as {{ session.user.name }} / {{ session.user.id }}</span>
        <button g:onclick="logout()" class="btn" type="button">Logout!</button>
    </div>
    <div id="content" g:include="partials/{{ session.user.id && 'content' || 'empty' }}.html"></div>
</body>

</html>
